fragment mediaListEntry on MediaList {
    id
    mediaId
    status
    score
    progress
    progressVolumes
    repeat
    priority
    private
    hiddenFromStatusLists
    customLists
    advancedScores
    notes
    updatedAt
    startedAt {
        year
        month
        day
    }
    completedAt {
        year
        month
        day
    }
    media {
        id
        title {
            userPreferred
            romaji
            english
            native
        }
        coverImage {
            extraLarge
            large
        }
        type
        format
        status(version: 2)
        episodes
        volumes
        chapters
        averageScore
        meanScore
        popularity
        isAdult
        countryOfOrigin
        genres
        synonyms
        tags {
            id
            name
            rank
        }
        bannerImage
        startDate {
            year
            month
            day
        }
        nextAiringEpisode {
            id
            airingAt
            timeUntilAiring
            episode
            mediaId
        }
    }
}

query UserListCollection(
    $userId: Int
    $userName: String
    $type: MediaType
    $status: MediaListStatus
    $sort: [MediaListSort]
) {
    MediaListCollection(
        userId: $userId
        userName: $userName
        type: $type
        status: $status
        sort: $sort
    ) {
        lists {
            name
            isCustomList
            isCompletedList: isSplitCompletedList
            entries {
                ...mediaListEntry
            }
        }
    }
}

query UserCustomLists($userId: Int, $userName: String, $type: MediaType) {
    MediaListCollection(userId: $userId, userName: $userName, type: $type) {
        user {
            mediaListOptions {
                animeList {
                    customLists
                }
                mangaList {
                    customLists
                }
            }
        }
    }
}
